# HAG: æ··åˆå¢å¼ºç”Ÿæˆæ¡†æ¶

<div align="center">

[![GitHub stars](https://img.shields.io/github/stars/yankmo/HAG?style=social)](https://github.com/yankmo/HAG)
[![GitHub forks](https://img.shields.io/github/forks/yankmo/HAG?style=social)](https://github.com/yankmo/HAG)
[![GitHub issues](https://img.shields.io/github/issues/yankmo/HAG)](https://github.com/yankmo/HAG/issues)
[![GitHub license](https://img.shields.io/github/license/yankmo/HAG)](https://github.com/yankmo/HAG/blob/main/LICENSE)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![LangChain](https://img.shields.io/badge/LangChain-0.1.0-green.svg)](https://langchain.com/)
[![Neo4j](https://img.shields.io/badge/Neo4j-5.0+-red.svg)](https://neo4j.com/)
[![Weaviate](https://img.shields.io/badge/Weaviate-1.20+-orange.svg)](https://weaviate.io/)

[English](README.md) | [ä¸­æ–‡](README_CN.md)

**ä½œè€…**: [YankMo](https://github.com/yankmo)

</div>

---

## ğŸš€ HAG æ˜¯ä»€ä¹ˆï¼Ÿ

HAGï¼ˆæ··åˆå¢å¼ºç”Ÿæˆï¼‰æ˜¯ä¸€ä¸ªå…ˆè¿›çš„çŸ¥è¯†å¢å¼ºç”Ÿæˆæ¡†æ¶ï¼Œç»“åˆäº†å‘é‡æ•°æ®åº“å’ŒçŸ¥è¯†å›¾è°±çš„å¼ºå¤§åŠŸèƒ½ï¼Œæä¾›æ™ºèƒ½é—®ç­”èƒ½åŠ›ã€‚åŸºäº LangChainã€Neo4j å’Œ Weaviate æ„å»ºï¼ŒHAG åœ¨é¢†åŸŸç‰¹å®šçŸ¥è¯†æ£€ç´¢å’Œæ¨ç†æ–¹é¢è¡¨ç°å“è¶Šã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ æ™ºèƒ½æ„å›¾è¯†åˆ«
- **å¤šç»´åº¦ç†è§£**ï¼šæ·±åº¦è§£æç”¨æˆ·æŸ¥è¯¢æ„å›¾ï¼Œç²¾å‡†åŒ¹é…çŸ¥è¯†éœ€æ±‚
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šåŸºäºå¯¹è¯å†å²å’Œè¯­ä¹‰ç†è§£ï¼Œæä¾›ä¸ªæ€§åŒ–å“åº”

### ğŸ”„ åŒæ•°æ®åº“é›†æˆæ¶æ„
- **å‘é‡æ•°æ®åº“**ï¼šWeaviate æä¾›é«˜æ•ˆè¯­ä¹‰ç›¸ä¼¼æ€§æœç´¢
- **çŸ¥è¯†å›¾è°±**ï¼šNeo4j å®ç°å¤æ‚å…³ç³»æ¨ç†å’Œå®ä½“å‘ç°
- **æ··åˆæ£€ç´¢**ï¼šæ™ºèƒ½èåˆä¸¤ç§æ•°æ®æºï¼Œç¡®ä¿æ£€ç´¢å‡†ç¡®æ€§å’Œå®Œæ•´æ€§

### ğŸš€ å¯è°ƒç”¨APIæœåŠ¡
- **RESTfulæ¥å£**ï¼šæ ‡å‡†åŒ–APIè®¾è®¡ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€è°ƒç”¨
- **æ¨¡å—åŒ–æ¶æ„**ï¼šç‹¬ç«‹çš„åµŒå…¥ã€æ£€ç´¢ã€ç”ŸæˆæœåŠ¡ï¼Œçµæ´»ç»„åˆ
- **LangChainé›†æˆ**ï¼šå¯è¿è¡Œç®¡é“æ¶æ„ï¼Œæ”¯æŒå¤æ‚å·¥ä½œæµç¼–æ’

### ğŸ¨ LINEARé£æ ¼å‰ç«¯è®¾è®¡
- **ç°ä»£åŒ–ç•Œé¢**ï¼šç®€æ´ä¼˜é›…çš„ç”¨æˆ·ä½“éªŒï¼Œéµå¾ªLINEARè®¾è®¡ç†å¿µ
- **å®æ—¶åé¦ˆ**ï¼šæµå¼å“åº”æ˜¾ç¤ºï¼Œå³æ—¶çŠ¶æ€æ›´æ–°
- **æ™ºèƒ½äº¤äº’**ï¼šç›´è§‚çš„å¯¹è¯ç•Œé¢ï¼Œæ”¯æŒå¤šè½®å¯¹è¯å’Œå†å²è®°å½•

## ç³»ç»Ÿæ¶æ„

![å·¥ä½œæµç¨‹](./docs/images/black.svg)
*What is HAG*
## ğŸ“¸ æ•ˆæœå±•ç¤º

### 1. Web ç•Œé¢
![HAG Web ç•Œé¢](./docs/images/Newapp.png)
*LINEARè®¾è®¡é£æ ¼å‰ç«¯ç•Œé¢*

### 2. æ£€ç´¢æ•ˆæœ
![HAG æ£€ç´¢æ•ˆæœ](./docs/images/NewSearch.png)
*æ··åˆæ£€ç´¢å·¥ä½œæµç¨‹å±•ç¤ºï¼Œèåˆå‘é‡æ•°æ®åº“å’ŒçŸ¥è¯†å›¾è°±*

### 3. æœ€ç»ˆå›ç­”
![HAG æœ€ç»ˆå›ç­”](./docs/images/Newanswer.png)
*æ™ºèƒ½é—®ç­”ç»“æœå±•ç¤ºï¼ŒåŒ…å«å®Œæ•´çš„çŸ¥è¯†æ¥æºå’Œæ¨ç†è¿‡ç¨‹*

## ğŸ“¦ å®‰è£…

### å‰ç½®è¦æ±‚
- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Docker å’Œ Docker Compose
- Git

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/yankmo/HAG.git
cd HAG
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **å¯åŠ¨å¿…éœ€æœåŠ¡**
```bash
# å¯åŠ¨ Neo4j
docker run -d --name neo4j \
  -p 7474:7474 -p 7687:7687 \
  -e NEO4J_AUTH=neo4j/your_password \
  neo4j:latest

# å¯åŠ¨ Weaviate
docker run -d --name weaviate \
  -p 8080:8080 \
  -e QUERY_DEFAULTS_LIMIT=25 \
  -e AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED=true \
  semitechnologies/weaviate:latest

# å¯åŠ¨ Ollama
docker run -d --name ollama \
  -p 11434:11434 \
  ollama/ollama:latest
```

4. **é…ç½®ç³»ç»Ÿ**
```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
cp config/config.yaml.example config/config.yaml
# æ›´æ–°æ•°æ®åº“å‡­æ®å’ŒæœåŠ¡ URL
```

5. **è¿è¡Œåº”ç”¨ç¨‹åº**
```bash
# å¯åŠ¨ Web ç•Œé¢
streamlit run app_simple.py

# æˆ–ç›´æ¥ä½¿ç”¨ API
python api.py
```

## ğŸ”§ é…ç½®

ç¼–è¾‘ `config/config.yaml` æ¥è‡ªå®šä¹‰æ‚¨çš„è®¾ç½®ï¼š

```yaml
# Neo4j é…ç½®
neo4j:
  uri: "bolt://localhost:7687"
  username: "neo4j"
  password: "your_password"

# Ollama é…ç½®
ollama:
  base_url: "http://localhost:11434"
  default_model: "gemma3:4b"
  embedding_model: "bge-m3:latest"

# Weaviate é…ç½®
weaviate:
  url: "http://localhost:8080"
```

## ğŸ§ª ä½¿ç”¨ç¤ºä¾‹

### Web ç•Œé¢
```bash
streamlit run app_simple.py
```
å¯¼èˆªåˆ° `http://localhost:8501` å¹¶å¼€å§‹æé—®ï¼

### API ä½¿ç”¨
```python
from api import HAGIntegratedAPI

# åˆå§‹åŒ–ç³»ç»Ÿ
hag = HAGIntegratedAPI()

# æé—®
response = hag.runnable_chain.invoke("å¸•é‡‘æ£®ç—…çš„ç—‡çŠ¶æ˜¯ä»€ä¹ˆï¼Ÿ")
print(response)
```

### ç›´æ¥æœåŠ¡è®¿é—®
```python
from src.services import HybridRetrievalService

# ç›´æ¥ä½¿ç”¨æ··åˆæ£€ç´¢
hybrid_service = HybridRetrievalService(...)
results = hybrid_service.search("åŒ»ç–—æŸ¥è¯¢", limit=5)
```

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•å¥—ä»¶ä»¥éªŒè¯æ‚¨çš„å®‰è£…ï¼š

```bash
# æµ‹è¯•åŸºæœ¬åŠŸèƒ½
python -c "from api import HAGIntegratedAPI; api = HAGIntegratedAPI(); print('âœ… HAG åˆå§‹åŒ–æˆåŠŸ')"
```

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£è¯¦æƒ…ã€‚

1. Fork ä»“åº“
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**YankMo**
- GitHub: [@yankmo](https://github.com/yankmo)
- CSDN åšå®¢: [YankMo çš„æŠ€æœ¯åšå®¢](https://blog.csdn.net/YankMo)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

</div>
