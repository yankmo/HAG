# TODO:

- [x] 1: 检查当前backend_api.py的代码结构和流式查询接口 (priority: High)
- [x] 2: 实现会话管理系统，添加会话ID和历史记录存储 (priority: High)
- [x] 3: 修改流式查询接口，集成上下文记忆功能 (priority: High)
- [x] 6: 将/api/generate接口改为/api/chat接口，使用messages数组格式 (priority: High)
- [x] 7: 移除复杂的上下文拼接逻辑，直接使用messages数组传递对话历史 (priority: High)
- [x] 4: 优化参考资料显示逻辑，只在有检索结果时显示 (priority: Medium)
- [x] 5: 测试修改后的API确保与前端兼容 (priority: Medium)
- [x] 8: 将检索结果作为system message添加到messages数组开头 (priority: Medium)
- [x] 9: 测试修改后的接口确保正常运行 (priority: Medium)
